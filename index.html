<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>A Special Surprise</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background-color: #fff0f3;
            font-family: 'Arial', sans-serif;
            text-align: center;
            overflow: hidden;
            touch-action: manipulation; /* Optimizes for mobile tapping */
        }

        .container { 
            position: relative; 
            z-index: 10; 
            width: 90%; 
            max-width: 400px; 
        }

        /* Your Couple Photo Style */
        .couple-photo {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 5px solid white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            margin-bottom: 20px;
            object-fit: cover;
        }

        h1 { color: #ff4d6d; font-size: 1.8rem; margin: 10px 0; }

        .buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 30px;
            height: 100px; /* Space for the "No" button to start */
        }

        button {
            padding: 12px 30px;
            font-size: 1.1rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            font-weight: bold;
        }

        #yesBtn { background-color: #ff4d6d; color: white; z-index: 20; }
        
        #noBtn {
            background-color: #ffb3c1;
            color: white;
            position: absolute;
            transition: all 0.2s ease;
            z-index: 100;
        }

        .heart {
            position: absolute;
            top: -10%;
            color: #ff758f;
            user-select: none;
            animation: fall linear infinite;
        }

        @keyframes fall {
            to { transform: translateY(110vh) rotate(360deg); }
        }

        #message {
            display: none;
            margin-top: 20px;
            font-size: 1.5rem;
            color: #c9184a;
            animation: fadeIn 1.5s;
            background: rgba(255, 255, 255, 0.6);
            padding: 20px;
            border-radius: 20px;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        #player { display: none; }
    </style>
</head>
<body>

    <div id="player"></div>

    <div class="container">
        <img src="couple.jpg" alt="Us" class="couple-photo">
        
        <h1 id="question">Pagi telah pergi, Mentari tak bersinar lagi, Entah sampai kapan,'Ku mengingat tentang dirimu
'Ku hanya diam, Menggenggam menahan, Segala kerinduan, Memanggil namamu, Di setiap malam, Ingin engkau datang, Dan hadir di mimpiku
Rindu.....
would you visit me for Ramadhan and Lebaran together, Nazlah, my lovely wife?? ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</h1>
        
        <div class="buttons">
            <button id="yesBtn" onclick="celebrate()">YES</button>
            <button id="noBtn" onmouseover="moveButton()" onclick="moveButton()" ontouchstart="moveButton()">NO</button>
        </div>

        <div id="message">
           Yay! I knew you'd say yes! ü•Ç‚ú®<br>
            I love you so much!
            Looking forward to meeting you Gorgeous Nazlah!!!
            From your loving husband, Erza
        </div>
    </div>

    <script>
        // 1. YouTube Integration
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '0', width: '0',
                videoId: 'viW0M5R2BLo', 
                playerVars: { 'autoplay': 0, 'controls': 0 }
            });
        }

        // 2. Heart Animation
        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = '‚ù§Ô∏è';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = Math.random() * 3 + 2 + 's';
            heart.style.fontSize = Math.random() * 15 + 10 + 'px';
            document.body.appendChild(heart);
            setTimeout(() => { heart.remove(); }, 5000);
        }
        let heartInterval = setInterval(createHeart, 400);

        // 3. Improved Mobile "Flee" Logic
        function moveButton() {
            const btn = document.getElementById('noBtn');
            
            // Screen boundaries
            const width = window.innerWidth - btn.offsetWidth - 20;
            const height = window.innerHeight - btn.offsetHeight - 20;

            const newX = Math.floor(Math.random() * width);
            const newY = Math.floor(Math.random() * height);

            btn.style.left = newX + 'px';
            btn.style.top = newY + 'px';
        }

        // 4. Celebration
        function celebrate() {
            document.getElementById('question').style.display = 'none';
            document.querySelector('.couple-photo').style.transform = "scale(1.2)";
            document.querySelector('.couple-photo').style.transition = "1s";
            document.querySelector('.buttons').style.display = 'none';
            document.getElementById('message').style.display = 'block';
            document.body.style.backgroundColor = "#ffccd5";
            
            clearInterval(heartInterval);
            setInterval(createHeart, 50);

            if (player && player.playVideo) {
                player.playVideo();
            }
        }
    </script>
</body>
</html>
