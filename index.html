<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Letter from Erza to Nazlah</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #fff0f3;
            font-family: 'Arial', sans-serif;
            text-align: center;
            overflow: hidden;
            transition: background-color 1s ease;
        }

        h1 { color: #ff4d6d; font-size: 2.8rem; z-index: 10; text-shadow: 2px 2px #fff; }

        .container { position: relative; z-index: 10; width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; }

        .buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            height: 60px; /* Space for buttons to exist */
        }

        button {
            padding: 15px 40px;
            font-size: 1.3rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        #yesBtn { background-color: #ff4d6d; color: white; transition: 0.3s; z-index: 10; }
        #yesBtn:hover { transform: scale(1.1); background-color: #ff758f; }
        
        #noBtn {
            background-color: #ffb3c1;
            color: white;
            position: absolute;
            transition: all 0.2s ease; /* Makes the "fleeing" look smooth */
            z-index: 100;
        }

        .heart {
            position: absolute;
            top: -10%;
            color: #ff758f;
            user-select: none;
            animation: fall linear infinite;
        }

        @keyframes fall {
            to { transform: translateY(110vh) rotate(360deg); }
        }

        #message {
            display: none;
            margin-top: 30px;
            font-size: 2rem;
            color: #c9184a;
            animation: fadeIn 1.5s;
            background: rgba(255, 255, 255, 0.4);
            padding: 20px;
            border-radius: 20px;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        #player { display: none; }
    </style>
</head>
<body>

    <div id="player"></div>

    <div class="container">
        <h1 id="question">Pagi telah pergi, Mentari tak bersinar lagi, Entah sampai kapan,'Ku mengingat tentang dirimu
'Ku hanya diam, Menggenggam menahan, Segala kerinduan, Memanggil namamu, Di setiap malam, Ingin engkau datang, Dan hadir di mimpiku
Rindu.....
            would you visit me for Ramadhan and Lebaran together, Nazlah, my lovely wife?? ‚ù§Ô∏è</h1>
        
        <div class="buttons">
            <button id="yesBtn" onclick="celebrate()">YES</button>
            <button id="noBtn" onmouseover="moveButton()" onclick="moveButton()">NO</button>
        </div>

        <div id="message">
            Yay! I knew you'd say yes! ü•Ç‚ú®<br>
            I love you so much!
            Looking forward to meeting you Gorgeous Nazlah!!!
        </div>
    </div>

    <script>
        // 1. YouTube Integration
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '0',
                width: '0',
                videoId: 'viW0M5R2BLo', // <-- CHANGE THIS TO YOUR SONG ID
                playerVars: { 'autoplay': 0, 'controls': 0 }
            });
        }

        // 2. Heart Animation logic
        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = '‚ù§Ô∏è';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = Math.random() * 3 + 2 + 's';
            heart.style.fontSize = Math.random() * 20 + 10 + 'px';
            document.body.appendChild(heart);
            setTimeout(() => { heart.remove(); }, 5000);
        }
        let heartInterval = setInterval(createHeart, 300);

        // 3. The "Moving Away" logic
        function moveButton() {
            const btn = document.getElementById('noBtn');
            const padding = 100;
            const x = Math.random() * (window.innerWidth - btn.offsetWidth - padding) + (padding / 2);
            const y = Math.random() * (window.innerHeight - btn.offsetHeight - padding) + (padding / 2);
            
            btn.style.left = x + 'px';
            btn.style.top = y + 'px';
        }

        // 4. Reveal Action
        function celebrate() {
            document.getElementById('question').style.display = 'none';
            document.querySelector('.buttons').style.display = 'none';
            document.getElementById('message').style.display = 'block';
            document.body.style.backgroundColor = "#ffccd5";
            
            // Explosion of hearts
            clearInterval(heartInterval);
            setInterval(createHeart, 50);

            // Play Music
            if (player && player.playVideo) {
                player.playVideo();
            }
        }
    </script>
</body>
</html>
